(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{21:function(e,t,c){},22:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var a,n,o=c(1),s=c.n(o),i=c(15),r=c.n(i),d=(c(21),c(22),c(4)),l=c(0),u=function(e){var t=e.message;return Object(l.jsx)("div",{className:"snackbar",children:t})},j=s.a.createContext(),b=function(e){var t=e.children,c=Object(o.useRef)(),a=Object(o.useState)({show:!1,message:void 0}),n=Object(d.a)(a,2),s=n[0],i=n[1],r=Object(o.useCallback)((function(e){clearTimeout(c.current),i({show:!0,message:e}),c.current=setTimeout((function(){i({show:!1,message:void 0})}),1500)}),[]);return Object(l.jsxs)(j.Provider,{value:r,children:[t,s.show&&Object(l.jsx)(u,{message:s.message})]})},O=function(){return Object(o.useContext)(j)},m={LOW:"Low",MEDIUM:"Medium",HIGH:"High"},h={PERSONAL:"Personal",ACADEMIC:"Academic",SOCIAL:"Social"},f="EDIT",v="DELETE",x="BULKCOMPLETE",p="BULKINCOMPLETE",g="BULKDELETE",y="UPDATE",C="ADD",N="SET_ISCOMPLETED",S="TOGGLE_SELECTED_TODO",T="RESET_SELECTED_TODOS",E=c(3),I=c(6),D=c(7),A=(a={},Object(E.a)(a,m.LOW,Object(l.jsx)(I.a,{className:"cgrey",icon:D.d})),Object(E.a)(a,m.MEDIUM,Object(l.jsx)(I.a,{className:"corange",icon:D.d})),Object(E.a)(a,m.HIGH,Object(l.jsx)(I.a,{className:"cred",icon:D.d})),Object(E.a)(a,h.PERSONAL,Object(l.jsx)(I.a,{className:"cblue",icon:D.g})),Object(E.a)(a,h.ACADEMIC,Object(l.jsx)(I.a,{className:"cgrey",icon:D.a})),Object(E.a)(a,h.SOCIAL,Object(l.jsx)(I.a,{className:"cpink",icon:D.h})),Object(E.a)(a,f,Object(l.jsx)(I.a,{icon:D.c})),Object(E.a)(a,v,Object(l.jsx)(I.a,{icon:D.f})),Object(E.a)(a,x,Object(l.jsx)(I.a,{icon:D.b})),Object(E.a)(a,p,Object(l.jsx)(I.a,{icon:D.e})),Object(E.a)(a,g,Object(l.jsx)(I.a,{icon:D.f})),a),k=s.a.memo((function(e){var t=e.selectedTodoIds,c=e.onTodoAction,a=O(),n=function(e){c({type:N,payload:{ids:t,isCompleted:e}}).then((function(){c({type:T})})).catch(a)};return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"bulk-selection",children:[Object(l.jsxs)("div",{className:"complete-selection",children:[Object(l.jsx)("div",{className:"hidden-text-complete-selection",children:"Mark Selection Complete"}),Object(l.jsx)("button",{className:"round",onClick:function(){return n(!0)},children:A[x]})]}),Object(l.jsxs)("div",{className:"incomplete-selection",children:[Object(l.jsx)("span",{className:"hidden-text-incomplete-selection",children:"Mark Selection Incomplete"}),Object(l.jsx)("button",{className:"round",onClick:function(){return n(!1)},children:A[p]})]}),Object(l.jsxs)("div",{className:"delete-selection",children:[Object(l.jsx)("span",{className:"hidden-text-delete-selection",children:"Delete Selection"}),Object(l.jsx)("button",{className:"round",onClick:function(){c({type:v,payload:{id:t}}).then((function(){c({type:T})})).catch(a)},children:A[g]})]})]})})})),L=s.a.memo((function(e){var t=e.value,c=e.isSelected,a=e.handleClick;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("button",{onClick:a,className:c?"icon larger":"icon","data-name":t,children:A[t]})})})),w=Object.assign({},m,h),M=Object.entries(w).map((function(e){var t=Object(d.a)(e,2);return[t[0],t[1]]})),F=s.a.memo((function(e){var t=e.filterState,c=e.toggleFilterState,a=Object(o.useCallback)((function(e){var t=e.target.closest("[data-name]");t&&c(t.dataset.name)}),[c]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"filter curve",children:[Object(l.jsx)("div",{className:"logos",children:M.map((function(e){var c=Object(d.a)(e,2),n=c[0],o=c[1];return Object(l.jsx)(L,{handleClick:a,isSelected:t[o],value:o},n)}))}),Object(l.jsx)("p",{className:"filter-text",children:"Filter Todos"})]})})})),P=s.a.memo((function(e){var t,c,a=e.todos,n=a.length,o=a.filter((function(e){return!0===e.isCompleted})).length,s=(t=o,(0===(c=n)?0:Math.round(100*t/c))+" % "),i=o+" / "+n;return Object(l.jsxs)("div",{className:"analytics curve",children:[Object(l.jsxs)("div",{className:"circle",children:[Object(l.jsx)("div",{className:"percent",children:s}),Object(l.jsx)("div",{className:"ratio",children:i})]}),Object(l.jsx)("p",{className:"analytics-text",children:"Analytics"})]})})),R=s.a.memo((function(e){var t=e.todo,c=e.onTodoAction,a=e.onEdit,n=e.isSelected,o=O(),s="todo";return t.isCompleted&&(s+=" opacity"),n&&(s+=" selected"),Object(l.jsxs)("div",{className:s,"data-id":t.id,children:[Object(l.jsxs)("div",{className:"buttons",children:[Object(l.jsx)("button",{className:"edit",onClick:function(){a(t)},children:A[f]}),Object(l.jsx)("button",{className:"delete",onClick:function(){c({type:v,payload:{id:t.id}}).catch(o)},children:A[v]})]}),Object(l.jsx)("div",{className:"todo-text",children:t.text}),Object(l.jsx)("div",{className:"time",children:t.time}),Object(l.jsxs)("div",{className:"symbols",children:[A[t.urgency],A[t.category]]}),Object(l.jsx)("div",{className:"complete",children:Object(l.jsx)("button",{className:"complete-button",onClick:function(){c({type:N,payload:{ids:[t.id],isCompleted:!t.isCompleted}}).catch(o)},children:t.isCompleted?"Completed. Undo?":"Mark Complete"})}),Object(l.jsx)("div",{className:n?"select-button bgRed":"select-button bgWhite",onClick:function(){c({type:S,payload:{id:t.id}})}})]})})),U=s.a.memo((function(e){var t=e.todos,c=e.onTodoAction,a=e.selectedTodoIds,n=e.onEdit;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"todo-list",children:t.map((function(e){return Object(l.jsx)(R,{todo:e,onTodoAction:c,onEdit:n,isSelected:a.includes(e.id)},e.id)}))})})})),W=c(5),H=s.a.memo((function(e){var t=e.value;return Object(l.jsx)(l.Fragment,{children:Object.entries(t).map((function(e){var t=Object(d.a)(e,2),c=t[0],a=t[1];return Object(l.jsx)("option",{value:a,children:a},c)}))})})),G=s.a.memo((function(e){var t=e.onChange,c=e.data;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("input",{"data-type":"text",value:c.text,type:"text",className:"add-todo",placeholder:"Add Your Todo...",onChange:t}),Object(l.jsxs)("div",{className:"urgency",children:[Object(l.jsx)("p",{className:"text",children:"Urgency"}),Object(l.jsx)("select",{value:c.urgency,"data-type":"urgency",className:"selector",onChange:t,children:Object(l.jsx)(H,{value:m})})]}),Object(l.jsxs)("div",{className:"category",children:[Object(l.jsx)("p",{className:"text",children:"Category"}),Object(l.jsx)("select",{value:c.category,"data-type":"category",className:"selector",onChange:t,children:Object(l.jsx)(H,{value:h})})]})]})})),B=s.a.memo((function(e){var t=e.initialData,c=e.onClose,a=e.onTodoAction,n=Object(o.useState)(t),s=Object(d.a)(n,2),i=s[0],r=s[1],u=O(),j=Object(o.useCallback)((function(e){r((function(t){return Object(W.a)(Object(W.a)({},t),{},Object(E.a)({},e.target.dataset.type,e.target.value))}))}),[]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(G,{onChange:j,data:i}),Object(l.jsxs)("div",{className:"modal-buttons",children:[Object(l.jsx)("button",{className:"cancel",onClick:c,children:"Cancel"}),Object(l.jsx)("button",{className:"save",onClick:function(){a({type:y,payload:{updatedTodo:i}}).then(c).catch(u)},children:"Save"})]})]})})),_=function(e){var t=e.children;return Object(l.jsx)("div",{className:"modal",children:Object(l.jsx)("div",{className:"modal-content",children:t})})},J={text:"",urgency:m.LOW,category:h.PERSONAL},K=s.a.memo((function(e){var t=e.onTodoAction,c=Object(o.useState)(J),a=Object(d.a)(c,2),n=a[0],s=a[1],i=O(),r=Object(o.useCallback)((function(e){s((function(t){return Object(W.a)(Object(W.a)({},t),{},Object(E.a)({},e.target.dataset.type,e.target.value))}))}),[]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"create-todo curve",onKeyPress:function(e){if(13===(e.keyCode||e.which||0)&&n.text){var c=function(e){return Object(W.a)(Object(W.a)({},e),{},{id:(new Date).valueOf(),isCompleted:!1,time:(new Date).toLocaleDateString()+", "+(new Date).toLocaleTimeString()})}(n);t({type:C,payload:{todo:c}}).then((function(){s(J)})).catch(i)}},children:[Object(l.jsx)("div",{className:"create-text",children:"Create Todo"}),Object(l.jsx)(G,{onChange:r,data:n})]})})})),Y=c(8),q=c.n(Y),z=c(11),Q=c(16),V=new function e(){var t=this;Object(Q.a)(this,e),this.isServerWorking=function(){return Math.random()>t.FailProbability},this.getTodo=function(){return new Promise((function(e,c){t.isServerWorking()?e(t.data):c("Please Refresh Again")}))},this.saveDataInLocalStorage=function(){return localStorage.setItem("todos",JSON.stringify(t.data))},this.loadDataFromLocalStorage=function(){return JSON.parse(localStorage.getItem("todos"))||[]},this.findIndexOfTodoById=function(e){return t.data.findIndex((function(t){return t.id===e}))},this.createTodo=function(e){var c=q()(e);return new Promise((function(e,a){t.isServerWorking()?(t.data=[].concat(Object(z.a)(t.data),Object(z.a)(c)),t.saveDataInLocalStorage(),e("done")):a("Could Not Add Todo")}))},this.deleteTodo=function(e){var c=q()(e);return new Promise((function(e,a){t.isServerWorking()?(t.data=t.data.filter((function(e){return!c.includes(e.id)})),t.saveDataInLocalStorage(),e("done")):a("Could Not Delete Todo")}))},this.updateTodo=function(e){var c=q()(e),a=c.map((function(e){return e.id}));return new Promise((function(e,n){t.isServerWorking()?(t.data=t.data.filter((function(e){return!a.includes(e.id)})),t.data=[].concat(Object(z.a)(t.data),Object(z.a)(c)),t.saveDataInLocalStorage(),e("done")):n("Could Not Update Todo")}))},this.data=this.loadDataFromLocalStorage(),this.FailProbability=.01},X=function(e,t){return e.id-t.id},Z=function(e,t){switch(t.type){case C:return e.concat(t.payload.todos);case v:return e.filter((function(e){return!t.payload.todoIds.includes(e.id)}));case y:var c=t.payload.updatedTodos.map((function(e){return e.id}));return e.filter((function(e){return!c.includes(e.id)})).concat(t.payload.updatedTodos).sort(X);default:return e}},$=(n={},Object(E.a)(n,m.LOW,!1),Object(E.a)(n,m.MEDIUM,!1),Object(E.a)(n,m.HIGH,!1),Object(E.a)(n,h.PERSONAL,!1),Object(E.a)(n,h.ACADEMIC,!1),Object(E.a)(n,h.SOCIAL,!1),n),ee=function(){var e=Object(o.useState)($),t=Object(d.a)(e,2),c=t[0],a=t[1],n=Object(o.useCallback)((function(e){a((function(t){return Object(W.a)(Object(W.a)({},t),{},Object(E.a)({},e,!t[e]))}))}),[]),s=Object(o.useCallback)((function(e){var t=function(e){return e[m.LOW]||e[m.MEDIUM]||e[m.HIGH]}(c),a=function(e){return e[h.PERSONAL]||e[h.ACADEMIC]||e[h.SOCIAL]}(c);return!1===t&&!1===a?e:function(e,t){return t.filter((function(t){return e[t.urgency]||e[t.category]}))}(c,e)}),[c]);return{filterState:c,filterTodos:s,toggleFilterState:n}},te=function(){var e=function(){var e=Object(o.useReducer)(Z,[]),t=Object(d.a)(e,2),c=t[0],a=t[1],n=Object(o.useState)([]),s=Object(d.a)(n,2),i=s[0],r=s[1],l=O(),u=Object(o.useRef)();u.current=l,Object(o.useEffect)((function(){V.getTodo().then((function(e){a({type:C,payload:{todos:e.sort(X)}})})).catch(u.current)}),[]);var j=Object(o.useCallback)((function(e){return c.find((function(t){return t.id===e}))}),[c]),b=Object(o.useCallback)((function(e){switch(e.type){case C:var t=e.payload.todo;return V.createTodo(t).then((function(){var e=q()(t);a({type:C,payload:{todos:e}})}));case y:var c=e.payload.updatedTodo;return V.updateTodo(c).then((function(){var e=q()(c);a({type:y,payload:{updatedTodos:e}})}));case v:var n=e.payload.id;return V.deleteTodo(n).then((function(){var e=q()(n);a({type:v,payload:{todoIds:e}})}));case N:var o=e.payload.isCompleted,s=e.payload.ids.map(j).map((function(e){return Object(W.a)(Object(W.a)({},e),{},{isCompleted:o})}));return V.updateTodo(s).then((function(){var e=q()(s);a({type:y,payload:{updatedTodos:e}})}));case S:var i=e.payload.id;return r((function(e){return e.includes(i)?e.filter((function(e){return e!==i})):e.concat(i)}));case T:return r([])}}),[j]);return{todoState:c,onTodoAction:b,selectedTodoIds:i}}(),t=e.todoState,c=e.onTodoAction,a=e.selectedTodoIds,n=ee(),s=n.filterState,i=n.filterTodos,r=n.toggleFilterState,u=function(){var e=Object(o.useState)({show:!1}),t=Object(d.a)(e,2),c=t[0],a=t[1];return{overlay:c,showOverlay:Object(o.useCallback)((function(e){a({show:!0,data:e})}),[]),closeOverlay:Object(o.useCallback)((function(){a({show:!1})}),[])}}(),j=u.overlay,b=u.showOverlay,m=u.closeOverlay,h=Object(o.useMemo)((function(){return i(t)}),[i,t]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"main-body",children:[Object(l.jsxs)("div",{className:"column-left curve",children:[Object(l.jsx)(U,{todos:h,onTodoAction:c,selectedTodoIds:a,onEdit:b}),Object(l.jsx)(k,{selectedTodoIds:a,onTodoAction:c})]}),Object(l.jsxs)("div",{className:"column-right",children:[Object(l.jsx)(F,{filterState:s,toggleFilterState:r}),Object(l.jsx)(P,{todos:h}),Object(l.jsx)(K,{onTodoAction:c})]})]}),j.show&&Object(l.jsx)(_,{children:Object(l.jsx)(B,{initialData:j.data,onClose:m,onTodoAction:c})})]})},ce=function(){var e=Object(o.useState)((new Date).toDateString()),t=Object(d.a)(e,2),c=t[0],a=t[1];return Object(o.useEffect)((function(){var e=setInterval((function(){a((new Date).toDateString())}),6e4);return function(){clearInterval(e)}}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"header curve",children:[Object(l.jsx)("div",{className:"date",children:c}),Object(l.jsx)("div",{className:"heading",children:"To-Do App"})]})})};var ae=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(b,{children:[Object(l.jsx)(ce,{}),Object(l.jsx)(te,{})]})})};r.a.render(Object(l.jsx)(ae,{}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.9d249f1b.chunk.js.map