(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{20:function(e,t,c){},21:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var a,n,o=c(5),s=c(14),i=c.n(s),r=(c(20),c(21),c(4)),l=c(3),d={LOW:"low",MEDIUM:"medium",HIGH:"high"},j={PERSONAL:"personal",ACADEMIC:"academic",SOCIAL:"social"},u="urgency",b="category",O="text",f="EDIT",h="DELETE",m="BULKCOMPLETE",x="BULKINCOMPLETE",v="BULKDELETE",p="RESET",y="UPDATE",g="ADD",N=c(1),S=c(6),C=c(7),T=c(0),A=(a={},Object(N.a)(a,d.LOW,Object(T.jsx)(S.a,{className:"grey",icon:C.d})),Object(N.a)(a,d.MEDIUM,Object(T.jsx)(S.a,{className:"orange",icon:C.d})),Object(N.a)(a,d.HIGH,Object(T.jsx)(S.a,{className:"red",icon:C.d})),Object(N.a)(a,j.PERSONAL,Object(T.jsx)(S.a,{className:"blue",icon:C.g})),Object(N.a)(a,j.ACADEMIC,Object(T.jsx)(S.a,{className:"grey",icon:C.a})),Object(N.a)(a,j.SOCIAL,Object(T.jsx)(S.a,{className:"pink",icon:C.h})),Object(N.a)(a,f,Object(T.jsx)(S.a,{icon:C.c})),Object(N.a)(a,h,Object(T.jsx)(S.a,{icon:C.f})),Object(N.a)(a,m,Object(T.jsx)(S.a,{icon:C.b})),Object(N.a)(a,x,Object(T.jsx)(S.a,{icon:C.e})),Object(N.a)(a,v,Object(T.jsx)(S.a,{icon:C.f})),a),E=function(e){var t=e.todo,c=e.onAction,a=e.toggleSelectTodo,n=e.showEditWindow,o=e.isSelected,s="todo";return t.isCompleted&&(s+=" opacity"),o&&(s+=" selected"),Object(T.jsxs)("div",{className:s,"data-id":t.id,children:[Object(T.jsxs)("div",{className:"buttons",children:[Object(T.jsx)("button",{className:"edit",onClick:function(){n(t)},children:A[f]}),Object(T.jsx)("button",{className:"delete",onClick:function(e){c({type:h,payload:t.id})},children:A[h]})]}),Object(T.jsx)("div",{className:"todoText",children:t.text}),Object(T.jsx)("div",{className:"time",children:t.time}),Object(T.jsxs)("div",{className:"symbols",children:[A[t.urgency],A[t.category]]}),Object(T.jsx)("div",{className:"complete",children:Object(T.jsx)("button",{className:"completeButton",onClick:function(e){var a=Object(l.a)(Object(l.a)({},t),{},{isCompleted:!t.isCompleted});c({type:y,payload:a})},children:t.isCompleted?"Completed. Undo?":"Mark Complete"})}),Object(T.jsx)("div",{className:o?"notSelect bgRed":"notSelect bgWhite",onClick:function(e){a(t.id)}})]})},I=function(e){var t=e.todos,c=e.onAction,a=e.toggleSelectTodo,n=e.selectedTodoIds,o=e.showEditWindow;return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)("div",{className:"todoList",children:t.map((function(e){return Object(T.jsx)(E,{todo:e,onAction:c,toggleSelectTodo:a,showEditWindow:o,isSelected:n.includes(e.id)},e.id)}))})})},L=function(e){var t=e.selectedTodoIds,c=e.resetSelectedTodoIds,a=e.onAction,n=e.findTodoById,o=function(e){var o=t.map(n).map((function(t){return Object(l.a)(Object(l.a)({},t),{},{isCompleted:e})}));a({type:y,payload:o}).then((function(){c()}))};return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"bulkSelection",children:[Object(T.jsxs)("div",{className:"completeSelection",children:[Object(T.jsx)("div",{className:"hiddenTextCompleteSelection",children:"Mark Selection Complete"}),Object(T.jsx)("button",{className:"round",onClick:function(){return o(!0)},children:A[m]})]}),Object(T.jsxs)("div",{className:"incompleteSelection",children:[Object(T.jsx)("span",{className:"hiddenTextIncompleteSelection",children:"Mark Selection Incomplete"}),Object(T.jsx)("button",{className:"round",onClick:function(){return o(!1)},children:A[x]})]}),Object(T.jsxs)("div",{className:"deleteSelection",children:[Object(T.jsx)("span",{className:"hiddenTextDeleteSelection",children:"Delete Selection"}),Object(T.jsx)("button",{className:"round",onClick:function(){a({type:h,payload:t}).then((function(){c()}))},children:A[v]})]})]})})},D=function(e){var t=e.value,c=e.filterState,a=e.handleClick;return Object.entries(t).map((function(e){var t,n=Object(r.a)(e,2),o=n[0],s=n[1];return t=c[s]?"icon larger":"icon",Object(T.jsx)("button",{onClick:a,className:t,"data-name":s,children:A[s]},o)}))},k=function(e){var t=e.filterState,c=e.toggleFilterState,a=function(e){var t=e.target.closest("[data-name]");t&&c(t.dataset.name)};return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"filter colorAndRadius",children:[Object(T.jsxs)("div",{className:"logos",children:[Object(T.jsx)(D,{value:d,filterState:t,handleClick:a}),Object(T.jsx)(D,{value:j,filterState:t,handleClick:a})]}),Object(T.jsx)("p",{className:"filterText",children:"Filter Todos"})]})})},w=function(e){var t=e.todos,c=t.length,a=t.filter((function(e){return!0===e.isCompleted})).length,n=function(e,t){return(0===t?0:Math.round(100*t/e))+" % "}(c,a),o=function(e,t){return t+" / "+e}(c,a);return Object(T.jsxs)("div",{className:"analytics colorAndRadius",children:[Object(T.jsxs)("div",{className:"circle",children:[Object(T.jsx)("div",{className:"percent",children:n}),Object(T.jsx)("div",{className:"ratio",children:o})]}),Object(T.jsx)("p",{className:"analyticsText",children:"Analytics"})]})},M={getTime:function(){return(new Date).toLocaleDateString()+", "+(new Date).toLocaleTimeString()},makeCopy:function(e){return Array.isArray(e)&&e[0]instanceof Object?e.map((function(e){return Object(l.a)({},e)})):e instanceof Object?Object(l.a)({},e):e}};M.convertToList=function(e){return Array.isArray(e)?e:[e]};var W,F=(n={},Object(N.a)(n,O,""),Object(N.a)(n,u,d.LOW),Object(N.a)(n,b,j.PERSONAL),n),P=function(e,t){switch(t.type){case y:return Object(l.a)(Object(l.a)({},e),{},Object(N.a)({},t.payload.type,t.payload.value));case p:return F;default:return e}},R=function(e){var t=e.value;return Object(T.jsx)(T.Fragment,{children:Object.entries(t).map((function(e){var t=Object(r.a)(e,2),c=t[0],a=t[1];return Object(T.jsx)("option",{value:a,children:a},c)}))})},B=function(e){var t=e.onAction,c=Object(o.useReducer)(P,F),a=Object(r.a)(c,2),n=a[0],s=a[1],i=function(e){s({type:y,payload:{type:e.target.dataset.type,value:e.target.value}})};return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"createTodo colorAndRadius",onKeyPress:function(e){if(13===(e.keyCode||e.which||0)&&n.text){var c=function(e){return Object(l.a)({id:(new Date).valueOf(),isCompleted:!1,time:M.getTime()},e)}(n);t({type:g,payload:c}).then((function(){s({type:p})}))}},children:[Object(T.jsx)("div",{className:"createText",children:"Create Todo"}),Object(T.jsx)("input",{"data-type":O,value:n[O],type:"text",className:"addTodo",placeholder:"Add Your Todo...",onChange:i}),Object(T.jsxs)("div",{className:"urgency",children:[Object(T.jsx)("p",{className:"text",children:"Urgency"}),Object(T.jsx)("select",{value:n[u],"data-type":u,className:"selector",onChange:i,children:Object(T.jsx)(R,{value:d})})]}),Object(T.jsxs)("div",{className:"category",children:[Object(T.jsx)("p",{className:"text",children:"Category"}),Object(T.jsx)("select",{value:n[b],"data-type":b,className:"selector",onChange:i,children:Object(T.jsx)(R,{value:j})})]})]})})},U=c(9),H=c(15),G=new function e(){var t=this;Object(H.a)(this,e),this.isServerWorking=function(){return Math.random()>t.FailProbability},this.getDatabase=function(){return new Promise((function(e,c){t.isServerWorking()?e(M.makeCopy(t.database)):c("Please Refresh Again")}))},this.saveDatabaseInLocalStorage=function(){return localStorage.setItem("todos",JSON.stringify(t.database))},this.loadDatabaseFromLocalStorage=function(){return JSON.parse(localStorage.getItem("todos"))||[]},this.findIndexOfTodoById=function(e){return t.database.findIndex((function(t){return t.id===e}))},this.createTodo=function(e){var c=M.convertToList(e);return new Promise((function(e,a){if(t.isServerWorking()){var n=M.makeCopy(c);t.database=[].concat(Object(U.a)(t.database),Object(U.a)(n)),t.saveDatabaseInLocalStorage(),e("done")}else a("Could Not Add Bulk Todos")}))},this.deleteTodo=function(e){var c=M.convertToList(e);return new Promise((function(e,a){t.isServerWorking()?(t.database=t.database.filter((function(e){return!c.includes(e.id)})),t.saveDatabaseInLocalStorage(),e("done")):a("Could Not Delete Selected Todos")}))},this.updateTodo=function(e){var c=M.convertToList(e);return new Promise((function(e,a){if(t.isServerWorking()){var n=M.makeCopy(t.database);c.forEach((function(e){var c=t.findIndexOfTodoById(e.id);n[c]=Object(l.a)({},e)})),t.database=n,t.saveDatabaseInLocalStorage(),e("done")}else a("Could Not Update Selected Todos")}))},this.database=this.loadDatabaseFromLocalStorage(),this.FailProbability=0},J=function(e,t){switch(t.type){case g:return[].concat(Object(U.a)(e),[t.payload]);case h:return e.filter((function(e){return e.id!==t.payload}));case y:return e.map((function(e){return e.id===t.payload.id?t.payload:e}));default:return e}},K=function(){var e=Object(o.useReducer)(J,[]),t=Object(r.a)(e,2),c=t[0],a=t[1];Object(o.useEffect)((function(){G.getDatabase().then((function(e){var t;e&&(null===(t=e.forEach)||void 0===t||t.call(e,(function(e){a({type:g,payload:e})})))}))}),[]);return[c,function(e){return c.find((function(t){return t.id===e}))},function(e){switch(e.type){case g:return function(e){return G.createTodo(e).then((function(){M.convertToList(e).forEach((function(e){a({type:g,payload:e})}))}))}(e.payload);case y:return function(e){return G.updateTodo(e).then((function(){M.convertToList(e).forEach((function(e){a({type:y,payload:e})}))}))}(e.payload);case h:return t=e.payload,G.deleteTodo(t).then((function(){M.convertToList(t).forEach((function(e){a({type:h,payload:e})}))}))}var t}]},Y=(W={},Object(N.a)(W,d.LOW,!1),Object(N.a)(W,d.MEDIUM,!1),Object(N.a)(W,d.HIGH,!1),Object(N.a)(W,j.PERSONAL,!1),Object(N.a)(W,j.ACADEMIC,!1),Object(N.a)(W,j.SOCIAL,!1),W),q=function(){var e=Object(o.useState)(Y),t=Object(r.a)(e,2),c=t[0],a=t[1];return[c,function(e){var t=c[d.LOW]||c[d.MEDIUM]||c[d.HIGH],a=c[j.PERSONAL]||c[j.ACADEMIC]||c[j.SOCIAL];return!1===t&&!1===a?e:function(e){return e.filter((function(e){return c[[e[u]]]||c[[e[b]]]}))}(e)},function(e){a((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(N.a)({},e,!t[e]))}))}]},z=function(e){var t=e.value;return Object(T.jsx)(T.Fragment,{children:Object.entries(t).map((function(e){var t=Object(r.a)(e,2),c=t[0],a=t[1];return Object(T.jsx)("option",{value:a,children:a},c)}))})},Q=function(e){var t=e.todo,c=e.closeEditWindow,a=e.onAction,n=Object(o.useState)(t),s=Object(r.a)(n,2),i=s[0],f=s[1],h=function(e){f((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(N.a)({},e.target.dataset.type,e.target.value))}))};return Object(T.jsx)("div",{className:"myModal",children:Object(T.jsxs)("div",{className:"modalContent",children:[Object(T.jsx)("input",{"data-type":O,type:"text",className:"addTodo",value:i[O],onChange:h}),Object(T.jsxs)("div",{className:"urgency",children:[Object(T.jsx)("p",{className:"text",children:"Urgency"}),Object(T.jsx)("select",{value:i[u],"data-type":u,className:"selector",onChange:h,children:Object(T.jsx)(z,{value:d})})]}),Object(T.jsxs)("div",{className:"category",children:[Object(T.jsx)("p",{className:"text",children:"Category"}),Object(T.jsx)("select",{value:i[b],"data-type":b,className:"selector",onChange:h,children:Object(T.jsx)(z,{value:j})})]}),Object(T.jsxs)("div",{className:"modalButtons",children:[Object(T.jsx)("button",{className:"cancel",onClick:function(){c()},children:"Cancel"}),Object(T.jsx)("button",{className:"save",onClick:function(){a({type:y,payload:i}),c()},children:"Save"})]})]})})},V=function(){var e=K(),t=Object(r.a)(e,3),c=t[0],a=t[1],n=t[2],s=q(),i=Object(r.a)(s,3),l=i[0],d=i[1],j=i[2],u=function(e){var t=Object(o.useState)({show:!1}),c=Object(r.a)(t,2),a=c[0],n=c[1],s=void 0;return!0===a.show&&(s=Object(T.jsx)(Q,{todo:a.payload,closeEditWindow:function(){n({show:!1})},onAction:e})),[s,function(e){n({show:!0,payload:e})}]}(n),b=Object(r.a)(u,2),O=b[0],f=b[1],h=Object(o.useState)([]),m=Object(r.a)(h,2),x=m[0],v=m[1],p=d(c);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{className:"mainBody",children:[Object(T.jsxs)("div",{className:"col1 colorAndRadius",children:[Object(T.jsx)(I,{todos:p,onAction:n,toggleSelectTodo:function(e){v((function(t){return t.includes(e)?t.filter((function(t){return t!==e})):t.concat(e)}))},selectedTodoIds:x,showEditWindow:f}),Object(T.jsx)(L,{selectedTodoIds:x,resetSelectedTodoIds:function(){v([])},onAction:n,findTodoById:a})]}),Object(T.jsxs)("div",{className:"col2",children:[Object(T.jsx)(k,{filterState:l,toggleFilterState:j}),Object(T.jsx)(w,{todos:p}),Object(T.jsx)(B,{onAction:n})]})]}),O]})},X=function(){var e=(new Date).toDateString();return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)("div",{className:"header colorAndRadius",children:[Object(T.jsx)("div",{className:"date",children:e}),Object(T.jsx)("div",{className:"heading",children:"To-Do App"})]})})};var Z=function(){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(X,{}),Object(T.jsx)(V,{})]})};i.a.render(Object(T.jsx)(Z,{}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.0816bbae.chunk.js.map